#summary How to compile and run using Eclipse
#labels Phase-Deploy

== Install the Android SDK == 
Install the Android SDK, including Eclipse & the Android Eclipse 
extension, as described in the official documentation: 
http://developer.android.com/sdk/index.html 
Make sure to install at least the Android SDK Platform 1.5 (API 3). 
Make sure to create an Android Virtual Machine by selecting the following: 
 * Window -> Android SDK and AVD Manager 
 * select Virtual Devices -> New... 
 * enter: 
   * Name: avm15 
   * Target: Android 1.5 - API Level 3 
   * SD Card: Size: 1024 MiB (this is important) 
 * click Create AVD 
After this is done, set the ANDROID_SDK_DIR classpath variable in 
Eclipse, by selecting: 
 * Window -> Preferences... 
 * Java -> Build Path -> Classpath Variables 
 * click New... 
 * enter: 
   * Name: ANDROID_SDK_LIB 
   * Path: /path/to/.../android-sdk-linux_86/platforms/android-3/android.jar 
 * click OK 
 * click OK 
== Check out the sources == 
Check out the osmdroid sources as describe here: 
http://code.google.com/p/osmdroid/source/checkout 
the quick steps are: 
<pre> 
svn checkout http://osmdroid.googlecode.com/svn/trunk/ osmdroid-read-only 
</pre> 
== Import ==
In Eclipse, right-click on the Package area, and select the following: 
 * click on Import... 
 * select General -> Existing Projects into Workspace 
 * click Next 
 * click Browse... 
 * select the checked out projects' directories
   * osmdroid-android 
   * !OSMMapTilePackager
   * !OpenStreetMapViewer
 * click OK 
 * click Finish 
== Compile ==
The projects are built with ant build files (build.xml).
Eclipse typically doesn't use ant builders so you will need to make some adjustments.
You may find it helpful to make sure ant builds correctly without Eclipse.
=== Creating a builder within Eclipse ===
Open the project properties for the target project.
Select the 'Builders' section, you will likely see a "Java Builder".
We will be creating an 'Ant Builder', press the 'New' button.
In the ensuing dialog choose 'Ant Build'. 

The 'Name' field is the name of the new builder, 'Ant Builder'.
Using the 'Browse Workspace' buttons, choose the build file (build.xml) and the project root.

<wiki:comment>
Any special instructions for targets? clean, build, etc.
<wiki:comment>

OK returns eclipse to the Builders section of the project properties dialog. 
Ensure that 'Java Builder' is unchecked, this will probably cause Eclipse to complain, a complaint you may ignore. 
Selecting 'OK' applies the changes. 

Now you have an Ant based eclipse project, ant output going to the Console view.


== Try out !OpenStreetMapViewer in an emulator == 
First, start an emulator by executing the following from within Eclipse: 
 * Window -> Android SDK and AVD Manager 
 * select your virtual device 
 * click Start... 
 * wait for the emulator to start (takes a long time) 
then, right-clik the OpenStreetMap project, and select: 
 * Run As -> Android Application 
and see the application downloaded to the emulator & run 